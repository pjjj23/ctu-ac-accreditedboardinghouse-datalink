{% extends 'Student-base.html' %}
{% load static %} 

{% block extra_css %} 
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
    .wave-emoji {
        animation: wave-animation 2.5s infinite;
        transform-origin: 70% 70%;
        display: inline-block;
    }

    @keyframes wave-animation {
        0%, 100% { transform: rotate(0deg); }
        25% { transform: rotate(20deg); }
        75% { transform: rotate(-15deg); }
    }
 
    .custom-control-input:checked ~ .custom-control-label::before {
        background-color: #28a745;
        border-color: #28a745;
    }

    .card {
        transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
        border: none;
        border-radius: 15px;
        overflow: hidden;
    }

    .card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 20px rgba(0,0,0,0.1);
    }

    .card-img-top {
        height: 200px;
        object-fit: cover;
    }

    .card-body {
        padding: 1.25rem;
    }

    .card-footer {
        background-color: #f8f9fa;
        border-top: 1px solid #e9ecef;
        padding: 0.75rem 1.25rem;
    }

    .btn-apply {
        background-color: #28a745;
        color: white;
        border: none;
        padding: 0.375rem 0.75rem;
        border-radius: 5px;
        transition: background-color 0.3s ease;
    }

    .btn-apply:hover {
        background-color: #218838;
        color: white;
    }

    .btn-view {
        background-color: transparent;
        color: #28a745;
        border: 1px solid #28a745;
        padding: 0.375rem 0.75rem;
        border-radius: 5px;
        transition: background-color 0.3s ease, color 0.3s ease;
    }

    .btn-view:hover {
        background-color: #28a745;
        color: white;
    } 

    @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
    }

    @keyframes slideIn {
        from { transform: translateY(-50px); opacity: 0; }
        to { transform: translateY(0); opacity: 1; }
    }

    .popup-overlay {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.5);
        z-index: 1000;
        justify-content: center;
        align-items: center;
        animation: fadeIn 0.3s ease-out;
    }

    .popup-content {
        background-color: white;
        padding: 2rem;
        border-radius: 10px;
        box-shadow: 0 10px 25px rgba(0,0,0,0.2);
        width: 100%;
        max-width: 400px;
        animation: slideIn 0.5s ease-out;
    }

    .popup-content h2 {
        font-size: 1.8rem;
        margin-bottom: 1.5rem;
        color: #2A9D8F;
        font-weight: 700;
        text-align: center;
    }

    .form-group {
        margin-bottom: 1.5rem;
    }

    .form-group label {
        display: block;
        margin-bottom: 0.5rem;
        font-weight: 600;
        color: #264653;
    }

    .form-group input {
        width: 100%;
        padding: 0.75rem;
        border: 2px solid #E9C46A;
        border-radius: 5px;
        font-size: 1rem;
        transition: border-color 0.3s ease;
    }

    .form-group input:focus {
        outline: none;
        border-color: #2A9D8F;
    }

    .profile-picture-popup {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.5);
        z-index: 2000;
        justify-content: center;
        align-items: center;
        animation: fadeIn 0.3s ease-out;
    }

    .profile-picture-content {
        background-color: white;
        padding: 2rem;
        border-radius: 10px;
        box-shadow: 0 10px 25px rgba(0,0,0,0.2);
        width: 100%;
        max-width: 400px;
        animation: slideIn 0.5s ease-out;
    }

    .profile-picture-content h2 {
        font-size: 1.8rem;
        margin-bottom: 1.5rem;
        color: #2A9D8F;
        font-weight: 700;
        text-align: center;
    }

    #imagePreview {
        max-width: 100%;
        max-height: 200px;
        object-fit: contain;
        margin-top: 1rem;
        border-radius: 8px;
        display: none;
    }

    .profile-picture-buttons {
        display: flex;
        justify-content: space-between;
        margin-top: 1.5rem;
    }

    .profile-picture-buttons button {
        padding: 0.5rem 1rem;
        border: none;
        border-radius: 5px;
        font-weight: 600;
        cursor: pointer;
        transition: background-color 0.3s ease;
    }

    .profile-picture-buttons .skip {
        background-color: #E9C46A;
        color: #264653;
    }

    .profile-picture-buttons .upload {
        background-color: #2A9D8F;
        color: white;
    }

    .profile-picture-buttons .skip:hover {
        background-color: #F4A261;
    }

    .profile-picture-buttons .upload:hover {
        background-color: #264653;
    }
    #profilePicturePreview {
        width: 60px;
        height: 60px;
        object-fit: cover;
        border-radius: 50%;
        border: 2px solid #ccc;
        display: none;
        margin: 10px auto;
    }
    #profilePicturePopup {
            display: none;
            /* Add additional styling for positioning and appearance */
    }

    .message-icon {
        position: fixed;
        bottom: 20px;
        right: 20px;
        width: 60px;
        height: 60px;
        background-color: #007bff;
        border-radius: 50%;
        display: flex;
        justify-content: center;
        align-items: center;
        color: white;
        font-size: 24px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.2);
        cursor: pointer;
        transition: all 0.3s ease;
        text-decoration: none;
        z-index: 9999; /* Ensure it's above all other elements */
    }
    .message-icon:hover {
        transform: scale(1.1);
        box-shadow: 0 4px 20px rgba(0,0,0,0.3);
        color: white;
    }
    .message-icon[data-tooltip]::after {
        content: attr(data-tooltip);
        position: absolute;
        bottom: 100%;
        right: 0;
        background-color: #333;
        color: white;
        padding: 5px 10px;
        border-radius: 3px;
        font-size: 14px;
        white-space: nowrap;
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.3s ease, visibility 0.3s ease;
    }
    .message-icon[data-tooltip]:hover::after {
        opacity: 1;
        visibility: visible;
    }


    .filterBoardingHouseCTUAC form {
        display: flex;
        flex-wrap: wrap;
        justify-content: flex-start;
        align-items: center;
        background-color: #fff;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        width: 100%;
        max-width: 1200px;
        margin: 0 auto;
    }

    /* Filter and Rating Groups */
    .filterBoardingHouseCTUAC .filter-group,
    .filterBoardingHouseCTUAC .rating-group {
        display: flex;
        align-items: center;
        gap: 20px;
        flex-wrap: wrap;
        margin-bottom: 15px;
    }

    /* Individual Labels */
    .filterBoardingHouseCTUAC label {
        display: flex;
        align-items: center;
        font-size: 14px;
        color: #333;
        cursor: pointer;
        transition: color 0.3s ease;
    }

    /* Custom Radio Buttons */
    .filterBoardingHouseCTUAC input[type="radio"] {
        display: none;
    }

    .filterBoardingHouseCTUAC input[type="radio"] + span {
        position: relative;
        width: 18px;
        height: 18px;
        border: 2px solid #007bff;
        border-radius: 4px;
        margin-right: 8px;
        background-color: #fff;
        transition: background-color 0.3s ease, border-color 0.3s ease;
    }

    .filterBoardingHouseCTUAC input[type="radio"]:checked + span {
        background-color: #007bff;
        border-color: #0056b3;
    }

    /* Check Icon (Custom) */
    .filterBoardingHouseCTUAC input[type="radio"]:checked + span::after {
        content: 'âœ”';
        position: absolute;
        top: 0;
        left: 2px;
        font-size: 12px;
        color: #fff;
        line-height: 18px;
    }

    .filterBoardingHouseCTUAC input[type="radio"]:hover + span {
        border-color: #0056b3;
    }

    /* Button Styling */
    .filterBoardingHouseCTUAC button {
        padding: 10px 25px;
        font-size: 14px;
        color: #fff;
        background-color: #007bff;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        transition: background-color 0.3s ease;
        margin-left: 20px;
    }

    .filterBoardingHouseCTUAC button:hover {
        background-color: #0056b3;
    }

@media (max-width: 768px) {
    .filterBoardingHouseCTUAC form {
            flex-direction: column;
            align-items: flex-start;
        }

        .filterBoardingHouseCTUAC button {
            width: 100%;
            margin-left: 0;
            margin-top: 10px;
        }
        .message-icon {
            width: 50px;
            height: 50px;
            font-size: 20px;
        } 
        .modal-content {
            max-width: 100px;
            width: 90%;
        }
        .filter-option {
            font-size: 0.7em;
        }
        .filter-icon {
            width: 10px;
            height: 10px;
        }
        .filter-group {
            scale: 0.9;
            margin-left: -7%;
        }
    }

@media (max-width: 480px) {
        .message-icon {
            width: 40px;
            height: 40px;
            font-size: 16px;
            bottom: 10px;
            right: 10px;
        }
        .modal-content {
            max-width: 100px;
            width: 50%;
        }
        .filter-option {
            font-size: 0.5em;
        }
        .filter-icon {
            width: 10px;
            height: 10px;
        }
        .filter-group {
            scale: 0.9;
            margin-left: -5%;
        }
    }

    /* Card Container Styles */
    .boardinghousecard-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            padding: 1rem;
            animation: fadeIn 0.5s ease;
            margin-top: 3%;
        }

        /* Card Styles */
        .boardinghousecard {
            background: white;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            overflow: hidden;
            position: relative; 
        }

        .boardinghousecard:hover {
            transform: translateY(-10px) scale(1.02);
            box-shadow: 0 20px 30px rgba(0, 0, 0, 0.15);
        }

        .boardinghousecard::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, rgba(43, 108, 176, 0.1), transparent);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .boardinghousecard:hover::after {
            opacity: 1;
        }

        /* Image Container Styles */
        .boardinghousecard-image-container {
            position: relative;
            height: 220px;
            overflow: hidden;
        }

        .boardinghousecard-image-container img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .boardinghousecard:hover .boardinghousecard-image-container img {
            transform: scale(1.15);
        }

        .boardinghousecard-zoom-icon {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0.8);
            background: rgba(255, 255, 255, 0.9);
            color: #2b6cb0;
            padding: 1rem;
            border-radius: 50%;
            opacity: 0;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 2;
            cursor: pointer;
        }

        .boardinghousecard:hover .boardinghousecard-zoom-icon {
            opacity: 1;
            transform: translate(-50%, -50%) scale(1);
        }

        .boardinghousecard-zoom-icon:hover {
            background: #2b6cb0;
            color: white;
            transform: translate(-50%, -50%) scale(1.1) !important;
        }

        /* Content Styles */
        .boardinghousecard-content {
            padding: 1.5rem;
            position: relative;
        }

        .boardinghousecard-status {
            display: inline-block;
            padding: 0.4rem 1rem;
            border-radius: 20px;
            font-size: 0.875rem;
            font-weight: 600;
            margin-bottom: 1rem;
            transition: all 0.3s ease;
        }

        .boardinghousecard-available {
            background: #e3f9e5;
            color: #2b822b;
        }

        .boardinghousecard-unavailable {
            background: #ffe5e5;
            color: #c41e3a;
        }

        .boardinghousecard-status:hover {
            transform: scale(1.05);
        }

        .boardinghousecard-title {
            font-size: 1.25rem;
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 0.75rem;
            transition: color 0.3s ease;
        }

        .boardinghousecard:hover .boardinghousecard-title {
            color: #2b6cb0;
        }

        .boardinghousecard-rating {
            margin-bottom: 0.75rem;
        }

        .boardinghousecard-rating i {
            color: #ffd700;
            transition: transform 0.2s ease;
        }

        .boardinghousecard:hover .boardinghousecard-rating i {
            animation: starPulse 0.5s ease infinite alternate;
        }

        .boardinghousecard-description {
            color: #718096;
            font-size: 0.925rem;
            line-height: 1.6;
            margin-bottom: 1rem;
        }

        .boardinghousecard-price {
            font-size: 1.1em;
            font-weight: bold;
            color: #2c3e50;
            margin-top: 10px;
            display: flex;
            align-items: baseline;
            gap: 5px;
        }

        .price-label {
            font-size: 0.9em;
            color: #666;
        }

        .price-value {
            color: #2ecc71; /* A soft green that's inviting and positive */
            font-size: 1.2em;
        }

        .boardinghousecard:hover {
            transform: scale(1.05);
            color: #1a4971;
        }

        /* Modal Styles */
        .boardinghousecard-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.85);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .boardinghousecard-modal.active {
            opacity: 1;
        }

        .boardinghousecard-modal-content {
            max-width: 90%;
            max-height: 90vh;
            transform: scale(0.9);
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .boardinghousecard-modal.active .boardinghousecard-modal-content {
            transform: scale(1);
        }

        .boardinghousecard-modal-content img {
            max-width: 100%;
            max-height: 90vh;
            object-fit: contain;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        .boardinghousecard-close-modal {
            position: absolute;
            top: 20px;
            right: 20px;
            color: white;
            font-size: 2rem;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            background: rgba(0, 0, 0, 0.5);
        }

        .boardinghousecard-close-modal:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: rotate(90deg);
        }

        /* Animations */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes slideIn {
            from {
                transform: translateX(-20px);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        @keyframes starPulse {
            from {
                transform: scale(1);
            }
            to {
                transform: scale(1.2);
            }
        } 

        .toolbar {
      display: flex;
      align-items: center;
      gap: 12px;
      background: white;
      padding: 12px 16px;
      border-radius: 8px;
      box-shadow: 0 1px 3px rgba(0,0,0,0.1); 
    }

    /* Search container */
    .search-container {
      display: flex;
      align-items: center;
      flex-grow: 1;
      gap: 8px; 
    }

    .search-input {
      border: none;
      outline: none;
      width: 100%;
      font-size: 14px;
    }

    /* Filter button */
    .filter-btn {
      display: flex;
      align-items: center;
      gap: 6px;
      padding: 6px 12px;
      border: 1px solid #e0e0e0;
      border-radius: 6px;
      background: white;
      cursor: pointer;
      font-size: 14px;
      color: #333;
    }

    .filter-btn:hover {
      background: #f5f5f5;
    }

    /* Modal */
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.5);
      z-index: 1000;
    }

    .modal-content {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: white;
      padding: 24px;
      border-radius: 12px;
      width: 90%;
      max-width: 600px;
    }

    /* Filter options */
    .filter-section {
      margin-bottom: 24px;
    }

    .filter-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
    }

    .filter-title {
      font-size: 18px;
      font-weight: 600;
    }

    .filter-group {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 12px;
      margin-bottom: 16px;
    }

    .filter-option {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 12px;
      border: 1px solid #e0e0e0;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.2s;
    }

    .filter-option:hover {
      background: #f5f5f5;
    }

    .filter-option.selected {
      background: #f0f7ff;
      border-color: #0066ff;
      color: #0066ff;
    }

    .filter-icon {
      width: 20px;
      height: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    /* Buttons */
    .button-group {
      display: flex;
      gap: 12px;
      margin-top: 24px;
    }

    .btn {
      flex: 1;
      padding: 12px;
      border-radius: 6px;
      border: none;
      font-size: 14px;
      cursor: pointer;
      transition: all 0.2s;
    }

    .btn-outline {
      border: 1px solid #e0e0e0;
      background: white;
    }

    .btn-primary {
      background: #0066ff;
      color: white;
    }

    .btn-primary:hover {
      background: #0052cc;
    }

    .boardinghouse-apply-button {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 10px;
        width: 100%;
        margin-top: 15px; 
        padding: 12px 24px;
        background: linear-gradient(to right, #2563eb, #3b82f6);
        border: none;
        border-radius: 8px;
        color: white;
        font-weight: 600;
        font-size: 16px;
        cursor: pointer;
        transition: all 0.3s ease;
        overflow: hidden;
        position: relative;
        box-shadow: 0 4px 15px rgba(37, 99, 235, 0.2);
        z-index: 1;
    }

.boardinghouse-apply-button:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(37, 99, 235, 0.3);
}

.boardinghouse-apply-button:active {
    transform: translateY(0px);
}

.boardinghouse-button-text {
    transition: all 0.3s ease;
}

.boardinghouse-button-icon {
    display: inline-flex;
    align-items: center;
    transition: all 0.3s ease;
}

.boardinghouse-apply-button:hover .boardinghouse-button-text {
    transform: translateX(-4px);
}

.boardinghouse-apply-button:hover .boardinghouse-button-icon {
    transform: translateX(4px);
}
 
.boardinghouse-type-tag {
    display: inline-block;
    padding: 4px 12px;
    margin: 0 6px 6px 0;
    background: linear-gradient(to right, #f0f9ff, #e0f2fe);
    color: #0369a1;
    font-size: 13px;
    font-weight: 500;
    border-radius: 20px;
    border: 1px solid #e0f2fe;
    transition: all 0.2s ease;
    cursor: default;
}

.boardinghouse-type-tag:hover {
    transform: translateY(-1px);
    box-shadow: 0 2px 8px rgba(3, 105, 161, 0.08);
    background: linear-gradient(to right, #e0f2fe, #bae6fd);
}

 
.boardinghousecard-descriptiontypeOfRental {
    display: flex;
    flex-wrap: wrap;
    gap: 6px;
    margin: 10px 0;
}

.successAnderrorMessagesPoppedup {
    position: fixed;
    top: 20px;
    right: 20px;
    max-width: 350px;
    padding: 16px 20px;
    border-radius: 12px;
    background: white;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    display: flex;
    align-items: center;
    gap: 12px;
    z-index: 1000;
    opacity: 0;
    transform: translateX(100px);
    animation: successAnderrorMessagesPoppedup-slideIn 0.3s ease forwards;
}

.successAnderrorMessagesPoppedup.success {
    border-left: 4px solid #10B981;
}

.successAnderrorMessagesPoppedup.error {
    border-left: 4px solid #EF4444;
}

.successAnderrorMessagesPoppedup.slideOut {
    animation: successAnderrorMessagesPoppedup-slideOut 0.3s ease forwards;
}

.successAnderrorMessagesPoppedup-icon {
    font-size: 20px;
    flex-shrink: 0;
}

.success .successAnderrorMessagesPoppedup-icon {
    color: #10B981;
}

.error .successAnderrorMessagesPoppedup-icon {
    color: #EF4444;
}

.successAnderrorMessagesPoppedup-content {
    color: #374151;
    font-size: 14px;
    font-weight: 500;
    line-height: 1.4;
}

@keyframes successAnderrorMessagesPoppedup-slideIn {
    from {
        opacity: 0;
        transform: translateX(100px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

@keyframes successAnderrorMessagesPoppedup-slideOut {
    from {
        opacity: 1;
        transform: translateX(0);
    }
    to {
        opacity: 0;
        transform: translateX(100px);
    }
}

.reminderForFeedback-modal-backdrop {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(17, 24, 39, 0.7);
        backdrop-filter: blur(8px);
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 1000;
        opacity: 0;
        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .reminderForFeedback-modal-content {
        background: linear-gradient(145deg, #ffffff, #f3f4f6);
        padding: 2.5rem;
        border-radius: 1.5rem;
        box-shadow: 
            0 25px 50px -12px rgba(0, 0, 0, 0.25),
            0 0 0 1px rgba(255, 255, 255, 0.1),
            inset 0 0 80px rgba(255, 255, 255, 0.5);
        max-width: 600px;
        width: 90%;
        position: relative;
        transform: scale(0.95) translateY(20px);
        opacity: 0;
        transition: all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
        overflow: hidden;
    }

    .reminderForFeedback-modal-backdrop.active {
        display: flex;
        opacity: 1;
    }

    .reminderForFeedback-modal-backdrop.active .reminderForFeedback-modal-content {
        transform: scale(1) translateY(0);
        opacity: 1;
    }

    .reminderForFeedback-decoration {
        position: absolute;
        top: -100px;
        right: -100px;
        width: 200px;
        height: 200px;
        background: linear-gradient(45deg, #4f46e5, #7c3aed);
        border-radius: 50%;
        opacity: 0.1;
        animation: reminderForFeedback-float 8s ease-in-out infinite;
    }

    .reminderForFeedback-decoration-2 {
        position: absolute;
        bottom: -80px;
        left: -80px;
        width: 160px;
        height: 160px;
        background: linear-gradient(45deg, #3b82f6, #14b8a6);
        border-radius: 50%;
        opacity: 0.1;
        animation: reminderForFeedback-float 8s ease-in-out infinite reverse;
    }

    .reminderForFeedback-modal-header {
        margin-bottom: 2rem;
        position: relative;
        z-index: 1;
    }

    .reminderForFeedback-modal-title {
        font-size: 2rem;
        font-weight: 700;
        background: linear-gradient(135deg, #4f46e5, #7c3aed);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        margin: 0;
        animation: reminderForFeedback-slideIn 0.6s ease-out;
    }

    .reminderForFeedback-modal-body {
        color: #4b5563;
        line-height: 1.7;
        margin-bottom: 2rem;
        position: relative;
        z-index: 1;
        animation: reminderForFeedback-slideIn 0.6s ease-out 0.1s backwards;
    }

    .reminderForFeedback-avatar-container {
        display: flex;
        align-items: center;
        margin-bottom: 1.5rem;
        animation: reminderForFeedback-slideIn 0.6s ease-out 0.2s backwards;
    }

    .reminderForFeedback-avatar {
        width: 60px;
        height: 60px;
        margin-right: 1rem;
        position: relative;
    }

    .reminderForFeedback-avatar svg {
        width: 100%;
        height: 100%;
        animation: reminderForFeedback-wave 3s ease-in-out infinite;
    }

    .reminderForFeedback-modal-footer {
        display: flex;
        justify-content: flex-end;
        gap: 1rem;
        position: relative;
        z-index: 1;
        animation: reminderForFeedback-slideIn 0.6s ease-out 0.3s backwards;
    }

    .reminderForFeedback-btn {
        padding: 0.75rem 1.5rem;
        border-radius: 1rem;
        font-weight: 600;
        font-size: 1rem;
        cursor: pointer;
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
    }

    .reminderForFeedback-btn::after {
        content: '';
        position: absolute;
        width: 100%;
        height: 100%;
        top: 0;
        left: -100%;
        background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
        transition: 0.5s;
    }

    .reminderForFeedback-btn:hover::after {
        left: 100%;
    }

    .reminderForFeedback-btn-primary {
        background: linear-gradient(135deg, #4f46e5, #7c3aed);
        color: white;
        border: none;
        box-shadow: 0 4px 12px rgba(79, 70, 229, 0.3);
    }

    .reminderForFeedback-btn-primary:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 16px rgba(79, 70, 229, 0.4);
    }

    .reminderForFeedback-btn-secondary {
        background: white;
        color: #4b5563;
        border: 2px solid #e5e7eb;
    }

    .reminderForFeedback-btn-secondary:hover {
        background: #f9fafb;
        transform: translateY(-2px);
    }

    .reminderForFeedback-close-button {
        position: absolute;
        top: 1.25rem;
        right: 1.25rem;
        background: white;
        border: none;
        font-size: 1.25rem;
        color: #6b7280;
        cursor: pointer;
        padding: 0.5rem;
        line-height: 1;
        border-radius: 50%;
        width: 36px;
        height: 36px;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.3s ease;
        z-index: 2;
        box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }

    .reminderForFeedback-close-button:hover {
        transform: rotate(90deg);
        color: #4f46e5;
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    }

    @keyframes reminderForFeedback-float {
        0%, 100% { transform: translate(0, 0) rotate(0deg); }
        50% { transform: translate(20px, -20px) rotate(45deg); }
    }

    @keyframes reminderForFeedback-slideIn {
        from {
            opacity: 0;
            transform: translateY(20px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    @keyframes reminderForFeedback-wave {
        0%, 100% { transform: rotate(-5deg); }
        50% { transform: rotate(5deg); }
    }

        .boardinghousecard-status {
            display: inline-block;
            padding: 0.4rem 1rem;
            border-radius: 20px;
            font-size: 0.875rem;
            font-weight: 600;
            margin-bottom: 1rem;
            transition: all 0.3s ease;
        }

        .boardinghousecard-available {
            background: #e3f9e5;
            color: #2b822b;
        }

        .boardinghousecard-full {
            background: #ffe5e5;
            color: #c41e3a;
        }
 
        .boardinghousecard-status:hover {
            transform: scale(1.05);
        }

</style>
{% endblock %}

{% block content %}


<div class="messages">
    {% if messages %}
        {% for message in messages %}
            <div class="successAnderrorMessagesPoppedup {% if message.tags %}{{ message.tags }}{% endif %}">
                <div class="successAnderrorMessagesPoppedup-icon">
                    {% if message.tags == 'success' %}
                        <i class="fas fa-check-circle"></i>
                    {% elif message.tags == 'error' %}
                        <i class="fas fa-exclamation-circle"></i>
                    {% endif %}
                </div>
                <div class="successAnderrorMessagesPoppedup-content">
                    {{ message }}
                </div>
            </div>
        {% endfor %}
    {% endif %}
</div>
<!-- Toolbar -->
<div class="toolbar">
    <div class="search-container">
      <svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
        <path d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
      </svg>
      <input id="searchInput" type="text" class="search-input" placeholder="Search"> 
    </div>
    <div id="noResultMessage" style="display: none; color: tomato; font-weight: bolder; width: 100%; text-align: center; text-shadow: 1px 1px 4px rgba(255, 99, 71, 0.7), 0px 0px 2px rgba(255, 99, 71, 0.5); ">Nothing found</div>
     
</div>
 <br>
<!-- Filter Modal --> 
<div class="filterBoardingHouseCTUAC">
    <form method="GET" action="{% url 'studenthomepage' %}">
        <!-- Type of Rental Filters -->
        <div class="filter-group">
            <label>
                <input type="radio" name="filter" value="all" 
                    {% if selected_filter == "all" %}checked{% endif %}>
                <span></span> All
            </label>
            <label>
                <input type="radio" name="filter" value="boardingHouse" 
                    {% if selected_filter == "boardingHouse" %}checked{% endif %}>
                <span></span> Boarding House
            </label>
            <label>
                <input type="radio" name="filter" value="lodging" 
                    {% if selected_filter == "lodging" %}checked{% endif %}>
                <span></span> Lodging
            </label>
            <label>
                <input type="radio" name="filter" value="dormitory" 
                    {% if selected_filter == "dormitory" %}checked{% endif %}>
                <span></span> Dormitory
            </label>
            <label>
                <input type="radio" name="filter" value="apartment" 
                    {% if selected_filter == "apartment" %}checked{% endif %}>
                <span></span> Apartment
            </label>
            <label>
                <input type="radio" name="filter" value="girlsBedspacer" 
                    {% if selected_filter == "girlsBedspacer" %}checked{% endif %}>
                <span></span> Girls Bedspacer
            </label>
            <label>
                <input type="radio" name="filter" value="boysBedspacer" 
                    {% if selected_filter == "boysBedspacer" %}checked{% endif %}>
                <span></span> Boys Bedspacer
            </label>
            <label>
                <input type="radio" name="filter" value="bothGenderBedspacer" 
                    {% if selected_filter == "bothGenderBedspacer" %}checked{% endif %}>
                <span></span> Both Gender Bedspacer
            </label>
        </div>

        <!-- Rating Filters -->
        <div class="rating-group">
            <label>
                <input type="radio" name="rating" value="5" 
                    {% if selected_rating == "5" %}checked{% endif %}>
                <span></span> 5 Stars
            </label>
            <label>
                <input type="radio" name="rating" value="4" 
                    {% if selected_rating == "4" %}checked{% endif %}>
                <span></span> 4 Stars & Up
            </label>
            <label>
                <input type="radio" name="rating" value="3" 
                    {% if selected_rating == "3" %}checked{% endif %}>
                <span></span> 3 Stars & Up
            </label>
            <label>
                <input type="radio" name="rating" value="2" 
                    {% if selected_rating == "2" %}checked{% endif %}>
                <span></span> 2 Stars & Up
            </label>
            <label>
                <input type="radio" name="rating" value="2_below" 
                    {% if selected_rating == "2_below" %}checked{% endif %}>
                <span></span> 2 Stars & Below
            </label>
        </div>

        <button type="submit">Applying filter</button>
    </form>
</div>



  {% if approved_boardinghouses %}
  <div class="boardinghousecard-container">
      <!-- Loop through each approved boarding house -->
      {% for key, house in approved_boardinghouses.items %}
      <div class="boardinghousecard" data-name="{{ house.boardinghouseName }}">
          <div class="boardinghousecard-image-container">
              <img src="{{ house.coverPhoto }}" alt="Cover Photo" class="cover-photo">
              <div class="boardinghousecard-zoom-icon">
                  <i class="fas fa-search-plus"></i>
              </div>
          </div>
          <div class="boardinghousecard-content">
              <span class="boardinghousecard-status 
                  {% if house.available_rooms_message == 'No Rooms Available' %}
                      boardinghousecard-full
                  {% else %}
                      boardinghousecard-available
                  {% endif %}">
                  {{ house.available_rooms_message }}
              </span>
              <h2 class="boardinghousecard-title">{{ house.boardinghouseName }}</h2>
              <p class="boardinghousecard-descriptiontypeOfRental">
                {% for type in house.typeOfRental %}
                    <span class="boardinghouse-type-tag">{{ type }}</span>
                {% endfor %}
              </p>
              <div class="boardinghousecard-rating">
                {% for i in "01234" %}
                    {% if forloop.counter <= house.full_stars %}
                        <i class="fas fa-star"></i>  {# Full star #}
                    {% else %}
                        <i class="far fa-star"></i>  {# Empty star #}
                    {% endif %}
                {% endfor %}
                <span style="color: #666">{{ house.average_rating }}</span>
            </div>
            
              <p class="boardinghousecard-description">{{ house.aboutUs }}</p>
              <div class="boardinghousecard-price">
                <span class="price-label">Price Range:</span>
                <span class="price-value">â‚±{{ house.price_range }}</span>
              </div>            
              
              <!-- Form for Apply Now -->
              <form action="{% url 'student_apply_now' %}" method="POST">
                  {% csrf_token %}
                  <input type="hidden" name="ownerEmail" value="{{ house.email }}"> 
                  <button type="submit" class="boardinghouse-apply-button">
                      <span class="boardinghouse-button-text">Apply Now</span>
                      <span class="boardinghouse-button-icon">
                          <i class="fas fa-arrow-right"></i>
                      </span>
                  </button>
              </form>
          </div>
      </div>
      {% endfor %}
  </div>
{% else %}
    <p>No approved boarding houses available.</p>
{% endif %}

  
    
        <!-- Image Modal -->
        <div class="boardinghousecard-modal" id="boardinghousecard-modal">
            <span class="boardinghousecard-close-modal">&times;</span>
            <div class="boardinghousecard-modal-content">
                <img id="boardinghousecard-modal-image" src="" alt="Enlarged view">
            </div>
        </div>
    </div>
</div>
    </div>
</div>
<div class="profile-picture-popup" id="profilePicturePopup">
    <div class="profile-picture-content">
        <h2><i class="fas fa-user-circle"></i> Update Profile Picture</h2>
        <form id="profilePictureForm" method="POST" enctype="multipart/form-data">
            {% csrf_token %}
            <input type="file" id="profilePictureInput" name="profilePicture" accept="image/*">
            <img id="profilePicturePreview" src="#" alt="Profile Picture Preview">
            <div class="profile-picture-buttons">
                <button type="button" class="btn skip" id="skipButton">Skip</button>
                <button type="submit" class="btn upload" id="uploadButton">Upload</button>
            </div>
        </form>
    </div>
</div> 


<!-- Modal Template -->
<div id="reminderForFeedback" class="reminderForFeedback-modal-backdrop">
    <div class="reminderForFeedback-modal-content">
        <div class="reminderForFeedback-decoration"></div>
        <div class="reminderForFeedback-decoration-2"></div>
        <button class="reminderForFeedback-close-button" onclick="reminderForFeedbackClose()">Ã—</button>
        
        <div class="reminderForFeedback-modal-header">
            <h3 class="reminderForFeedback-modal-title">Share Your Experience! âœ¨</h3>
        </div>

        <div class="reminderForFeedback-avatar-container">
            <div class="reminderForFeedback-avatar">
                <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M15 4C15 5.65685 13.6569 7 12 7C10.3431 7 9 5.65685 9 4C9 2.34315 10.3431 1 12 1C13.6569 1 15 2.34315 15 4Z" fill="#4f46e5"/>
                    <path d="M12 8C8.13401 8 5 11.134 5 15V22H19V15C19 11.134 15.866 8 12 8Z" fill="#4f46e5"/>
                </svg>
            </div>
            <div>
                <h4 style="margin: 0; color: #1f2937; font-size: 1.1rem;">Hello there! ðŸ‘‹</h4>
                <p style="margin: 0.25rem 0 0 0; color: #6b7280;">We'd love to hear from you</p>
            </div>
        </div>

        <div class="reminderForFeedback-modal-body">
            <p>Your feedback shapes our improvements! Take a moment to share your thoughts and help us create an even better experience for you and our community.</p>
        </div>

        <div class="reminderForFeedback-modal-footer">
            <button class="reminderForFeedback-btn reminderForFeedback-btn-secondary" onclick="reminderForFeedbackClose()">
                Maybe Later
            </button>
            <button class="reminderForFeedback-btn reminderForFeedback-btn-primary" onclick="reminderForFeedbackProvide()">
                Share Feedback
            </button>
        </div>
    </div>
</div>


{% if daysLogin == 1 %}
<!-- Background Overlay -->
<div class="firstlogin-overlay"></div>

<div id="firstLoginEverModal" class="firstlogin-modal">
    <div class="firstlogin-modal-content">
        <!-- Timer -->
        <div class="animation-timer">
            <svg class="timer-circle">
                <circle r="24" cx="26" cy="26"/>
            </svg>
            <span class="timer-text">3</span>
        </div>

        <!-- Decorative elements -->
        <div class="firstlogin-decoration">
            <div class="firstlogin-blob"></div>
            <div class="firstlogin-dots"></div>
        </div>
        
        <!-- Progress bar -->
        <div class="firstlogin-progress">
            <div class="firstlogin-progress-track">
                <div class="firstlogin-progress-fill"></div>
            </div>
            <div class="firstlogin-steps-count">Step <span class="current">1</span> of 3</div>
        </div>

        <div class="firstlogin-steps-container">
            <!-- Step 1 -->
            <div class="firstlogin-step active" data-step="1">
                <div class="firstlogin-icon-container">
                    <div class="firstlogin-welcome-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                        </svg>
                    </div>
                    <div class="firstlogin-icon-ring"></div>
                    <div class="firstlogin-icon-particles"></div>
                </div>
                <h2>Welcome, {{ username }}! Let us guide you through our system to help you get familiar.</h2>
                <p>Discover an incredible platform created by CTU-AC! Here, you can apply, track locations, send messages, and edit your profile with ease. Letâ€™s get started!</p>
            </div>

            <!-- Step 2 -->
            <div class="firstlogin-step" data-step="2">
                <div class="firstlogin-icon-container">
                    <div class="firstlogin-welcome-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z" />
                        </svg>
                    </div>
                    <div class="firstlogin-icon-ring"></div>
                    <div class="firstlogin-icon-particles"></div>
                </div>
                <h2>Room Application and Assistance</h2>
                <p>To apply for a boarding house or rental, click <span style="color: rgb(79, 117, 44)">Apply Now</span>. Need assistance? Message SAO or the owner via the icon below.</p>
            </div>

            <!-- Step 3 -->
            <div class="firstlogin-step" data-step="3">
                <div class="firstlogin-icon-container">
                    <div class="firstlogin-welcome-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                        </svg>
                    </div>
                    <div class="firstlogin-icon-ring"></div>
                    <div class="firstlogin-icon-particles"></div>
                </div>
                <h2>You're Ready to Go Next!</h2>
                <p>We value your input! Donâ€™t forget to share your feedback with usâ€”it helps improve our services. You can find the feedback option under Settings or the About section. Additionally, please leave feedback for the boarding houses to help others make informed decisions. Your thoughts matter!</p>
            </div>
        </div>

        <button id="firstlogin-next-btn" class="hidden">Continue</button>
    </div>
</div>

<style>
/* Background Overlay */
.firstlogin-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.3);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    z-index: 9998;
    opacity: 0;
    animation: fadeIn 0.5s ease forwards;
}

.firstlogin-modal {
    display: block;
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 90%;
    max-width: 550px;
    min-height: 450px;
    background: linear-gradient(145deg, rgba(255, 255, 255, 0.95), rgba(248, 250, 255, 0.95));
    padding: 40px;
    border-radius: 24px;
    box-shadow: 
        0 20px 40px rgba(0, 0, 0, 0.1),
        0 0 0 1px rgba(0, 0, 0, 0.05),
        inset 0 0 80px rgba(255, 255, 255, 0.5);
    z-index: 9999;
    overflow: hidden;
    opacity: 0;
    animation: modalPopIn 0.5s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
}

/* Timer Styles */
.animation-timer {
    position: absolute;
    bottom: 2px;
    right: 20px;
    width: 52px;
    height: 52px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.timer-circle {
    width: 52px;
    height: 52px;
    transform: rotate(-90deg);
}

.timer-circle circle {
    fill: none;
    stroke: #0066ff;
    stroke-width: 3;
    stroke-dasharray: 151;
    stroke-dashoffset: 151;
    animation: timerAnimation 3s linear forwards;
}

.timer-text {
    position: absolute;
    font-size: 16px;
    font-weight: 600;
    color: #0066ff;
}

.firstlogin-modal-content {
    position: relative;
    z-index: 2;
}

/* Decorative Elements */
.firstlogin-decoration {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    overflow: hidden;
    pointer-events: none;
}

.firstlogin-blob {
    position: absolute;
    top: -50%;
    right: -50%;
    width: 300px;
    height: 300px;
    background: linear-gradient(135deg, rgba(0, 102, 255, 0.1), rgba(0, 102, 255, 0.05));
    border-radius: 50%;
    filter: blur(40px);
    animation: blobFloat 8s infinite ease-in-out;
}

.firstlogin-dots {
    position: absolute;
    width: 100%;
    height: 100%;
    background-image: radial-gradient(rgba(0, 102, 255, 0.1) 1px, transparent 1px);
    background-size: 20px 20px;
    opacity: 0.5;
}

/* Progress Bar */
.firstlogin-progress {
    margin-bottom: 40px;
}

.firstlogin-progress-track {
    width: 100%;
    height: 6px;
    background: rgba(0, 102, 255, 0.1);
    border-radius: 3px;
    overflow: hidden;
    margin-bottom: 10px;
}

.firstlogin-progress-fill {
    width: 33.33%;
    height: 100%;
    background: #0066ff;
    border-radius: 3px;
    transition: width 0.5s ease;
}

.firstlogin-steps-count {
    text-align: right;
    font-size: 14px;
    color: #666;
}

/* Icon Styles */
.firstlogin-icon-container {
    position: relative;
    width: 100px;
    height: 100px;
    margin: 0 auto 30px;
}

.firstlogin-welcome-icon {
    position: relative;
    width: 100%;
    height: 100%;
    background: linear-gradient(135deg, #0066ff, #0052cc);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 2;
}

.firstlogin-welcome-icon svg {
    width: 50px;
    height: 50px;
    color: white;
    animation: iconPop 0.5s ease;
}

.firstlogin-icon-ring {
    position: absolute;
    top: -5px;
    left: -5px;
    right: -5px;
    bottom: -5px;
    border: 2px solid #0066ff;
    border-radius: 50%;
    animation: ringPulse 2s infinite;
}

.firstlogin-icon-particles::before,
.firstlogin-icon-particles::after {
    content: '';
    position: absolute;
    width: 8px;
    height: 8px;
    background: #0066ff;
    border-radius: 50%;
    animation: particleFloat 3s infinite;
}

/* Content Styles */
.firstlogin-step {
    display: none;
    opacity: 0;
    transform: translateY(20px) scale(0.95);
    transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
    text-align: center;
    padding: 20px 0;
}

.firstlogin-step.active {
    display: block;
    opacity: 1;
    transform: translateY(0) scale(1);
}

.firstlogin-modal h2 {
    color: #1a1a1a;
    font-size: clamp(24px, 5vw, 32px);
    margin: 0 0 16px;
    font-weight: 700;
    line-height: 1.2;
}

.firstlogin-modal p {
    color: #666;
    font-size: clamp(16px, 3vw, 18px);
    line-height: 1.6;
    margin: 0 0 30px;
    max-width: 400px;
    margin-left: auto;
    margin-right: auto;
}

/* Button Styles */
#firstlogin-next-btn {
    background: linear-gradient(135deg, #0066ff, #0052cc);
    color: white;
    border: none;
    padding: 16px 32px;
    border-radius: 12px;
    font-size: 16px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 4px 15px rgba(0, 102, 255, 0.3);
    opacity: 0;
    transform: translateY(10px);
    animation: buttonFloat 3s ease-in-out infinite;
    position: relative;
    overflow: hidden;
}

#firstlogin-next-btn::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(135deg, rgba(255,255,255,0.2), rgba(255,255,255,0));
    transform: translateX(-100%);
    transition: transform 0.5s ease;
}

#firstlogin-next-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(0, 102, 255, 0.4);
}

#firstlogin-next-btn:hover::before {
    transform: translateX(100%);
}

#firstlogin-next-btn.show {
    opacity: 1;
    transform: translateY(0);
}

.hidden {
    display: none;
}

/* Animations */
@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

@keyframes modalPopIn {
    0% {
        opacity: 0;
        transform: translate(-50%, -40%) scale(0.95);
    }
    100% {
        opacity: 1;
        transform: translate(-50%, -50%) scale(1);
    }
}

@keyframes timerAnimation {
    from { stroke-dashoffset: 151; }
    to { stroke-dashoffset: 0; }
}

@keyframes buttonFloat {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-5px); }
}

@keyframes blobFloat {
    0%, 100% { transform: translate(0, 0) rotate(0deg); }
    50% { transform: translate(-30px, 20px) rotate(180deg); }
}

@keyframes ringPulse {
    0% { transform: scale(1); opacity: 0.5; }
    50% { transform: scale(1.2); opacity: 0; }
    100% { transform: scale(1); opacity: 0.5; }
}

@keyframes particleFloat {
    0%, 100% { transform: translate(0, 0); }
    50% { transform: translate(10px, -10px); }
}

@keyframes iconPop {
    0% { transform: scale(0.5); }
    50% { transform: scale(1.2); }
    100% { transform: scale(1); }
}

@keyframes fadeOut {
    from { opacity: 1; }
    to { opacity: 0; }
}

/* Responsive Design */
@media (max-width: 768px) {
    .firstlogin-modal {
        padding: 30px;
        min-height: 400px;
    }
    
    .firstlogin-icon-container {
        width: 80px;
        height: 80px;
    }
    
    .firstlogin-welcome-icon svg {
        width: 40px;
        height: 40px;
    }
}
@media (max-width: 480px) {
    .firstlogin-modal {
        padding: 20px;
        min-height: 350px;
    }
    
    .animation-timer {
        top: 25px;
        left: 7px;
        width: 40px;
        height: 40px; 
    }
    
    .timer-circle {
        width: 40px;
        height: 40px;
    }
    
    .timer-circle circle {
        r: 18;
        cx: 20;
        cy: 20;
        stroke-dasharray: 113;
        stroke-dashoffset: 113;
    }
    
    .timer-text {
        font-size: 14px;
    }
    
    .firstlogin-progress {
        margin-bottom: 30px;
    }
    
    .firstlogin-modal h2 {
        font-size: 22px;
        margin-bottom: 12px;
    }
    
    .firstlogin-modal p {
        font-size: 15px;
        margin-bottom: 20px;
    }
    
    #firstlogin-next-btn {
        padding: 14px 28px;
        font-size: 15px;
    }
}
</style>

<script>
document.addEventListener("DOMContentLoaded", function() {
    const modal = document.getElementById("firstLoginEverModal");
    const nextBtn = document.getElementById("firstlogin-next-btn");
    const steps = document.querySelectorAll(".firstlogin-step");
    const progressFill = document.querySelector(".firstlogin-progress-fill");
    const currentStepText = document.querySelector(".firstlogin-steps-count .current");
    const timerText = document.querySelector(".timer-text");
    let currentStep = 1;
    let timeLeft = 3;

    // Timer countdown
    const timer = setInterval(() => {
        timeLeft--;
        timerText.textContent = timeLeft;
        
        if (timeLeft <= 0) {
            clearInterval(timer);
            nextBtn.classList.remove("hidden");
            nextBtn.classList.add("show");
        }
    }, 1000); 

    function updateStep(step) {
        // Reset timer for each step
        timeLeft = 3;
        timerText.textContent = timeLeft;
        
        // Restart timer animation
        const timerCircle = document.querySelector(".timer-circle circle");
        timerCircle.style.animation = 'none';
        timerCircle.offsetHeight;
        timerCircle.style.animation = 'timerAnimation 5s linear forwards';

        // Previous step update logic
        steps.forEach(s => {
            s.classList.remove("active");
            if (s.dataset.step == step) {
                s.classList.add("active");
            }
        });

        progressFill.style.width = `${(step/3) * 100}%`;
        currentStepText.textContent = step;

        if (step === 3) {
            nextBtn.textContent = "Take me next";

            // Add an event listener for the button click
            nextBtn.addEventListener("click", function handleNextClick() {
                // Redirect to the new page
                window.location.href = "{% url 'studentapplication' %}";

                // Remove the event listener to avoid multiple redirects
                nextBtn.removeEventListener("click", handleNextClick);
            });
        } else {
            nextBtn.textContent = "Continue";
        }


        const currentIcon = document.querySelector(`.firstlogin-step[data-step="${step}"] .firstlogin-welcome-icon svg`);
        currentIcon.style.animation = 'none';
        currentIcon.offsetHeight;
        currentIcon.style.animation = 'iconPop 0.5s ease';
        
        // Hide button until timer completes
        nextBtn.classList.add("hidden");
        nextBtn.classList.remove("show");
        
        // Start new timer
        timeLeft = 3;
        const newTimer = setInterval(() => {
            timeLeft--;
            timerText.textContent = timeLeft;
            
            if (timeLeft <= 0) {
                clearInterval(newTimer);
                nextBtn.classList.remove("hidden");
                nextBtn.classList.add("show");
            }
        }, 1000);
    }

    nextBtn.addEventListener("click", function() {
        if (currentStep < 3) {
            currentStep++;
            updateStep(currentStep);
        } else {
            // Fade out animation
            modal.style.animation = 'fadeOut 0.5s ease forwards';
            document.querySelector('.firstlogin-overlay').style.animation = 'fadeOut 0.5s ease forwards';
            
            setTimeout(() => {
                modal.style.display = "none";
                document.querySelector('.firstlogin-overlay').remove();
                document.body.classList.remove("firstlogin-modal-active");
            }, 500);
        }
    });

    // Initialize
    document.body.classList.add("firstlogin-modal-active");
}); 
</script>
{% endif %}

<a href="{% url 'student_message' %}" class="message-icon" data-tooltip="Message">
    <i class="fas fa-comment"></i>
</a> 
{% endblock %}

{% block extra_js %}
<script src="https://cdnjs.cloudflare.com/ajax/libs/push.js/1.0.7/push.min.js"></script>
<script> 

function toggleFilter() {
      const modal = document.getElementById('filterModal');
      modal.style.display = modal.style.display === 'none' ? 'block' : 'none';
    }

    function toggleSelection(element) {
      element.classList.toggle('selected');
    }

    // Initialize
    document.addEventListener('DOMContentLoaded', () => {
      const modal = document.getElementById('filterModal');
      modal.style.display = 'none';

      // Close modal when clicking outside
      window.onclick = (event) => {
        if (event.target === modal) {
          modal.style.display = 'none';
        }
      };

        const dayLogin = {{ daysLogin }};
        const triggerDays = [4, 6, 10, 15, 22];
        
        if (triggerDays.includes(dayLogin)) {
            // Wait for 10 seconds before showing the modal
            setTimeout(() => {
                reminderForFeedbackShow();
            }, 10000); // 10 seconds delay before showing
        }
    });

    function reminderForFeedbackShow() {
        const modal = document.getElementById('reminderForFeedback');
        modal.style.display = 'flex';
        
        // Small delay to ensure transition works
        requestAnimationFrame(() => {
            modal.classList.add('active');
        });
    }

    function reminderForFeedbackClose() {
        const modal = document.getElementById('reminderForFeedback');
        modal.classList.remove('active');
        
        setTimeout(() => {
            modal.style.display = 'none';
        }, 500);
    }


    function reminderForFeedbackProvide() {
        // Add your feedback form URL or functionality here
        window.location.href = "{% url 'studentsettings' %}";  // Replace with your feedback URL
    }

const imageContainers = document.querySelectorAll('.boardinghousecard-image-container');
        const modal = document.getElementById('boardinghousecard-modal');
        const modalImg = document.getElementById('boardinghousecard-modal-image');
        const closeModal = document.querySelector('.boardinghousecard-close-modal');

        imageContainers.forEach(container => {
            container.addEventListener('click', function() {
                const img = this.querySelector('img');
                modal.style.display = 'flex';
                setTimeout(() => {
                    modal.classList.add('active');
                }, 10);
                modalImg.src = img.src;
            });
        });

        closeModal.addEventListener('click', closeModalFunction);
        modal.addEventListener('click', function(event) {
            if (event.target === modal) {
                closeModalFunction();
            }
        });

        function closeModalFunction() {
            modal.classList.remove('active');
            setTimeout(() => {
                modal.style.display = 'none';
            }, 300);
        }

        document.getElementById('searchInput').addEventListener('input', function() {
    const searchValue = this.value.toLowerCase();
    const cards = document.querySelectorAll('.boardinghousecard');
    let found = false;  // Tracks if a match is found

    cards.forEach(card => {
        // Use optional chaining to handle the possibility of a null value
        const name = card.getAttribute('data-name')?.toLowerCase();
        if (name && name.includes(searchValue)) {
            card.style.display = 'block'; // Show card if it matches the search
            found = true;
        } else {
            card.style.display = 'none';  // Hide card if it doesn't match
        }
    });

    // Display "Nothing found" if no matches are found
    const noResultMessage = document.getElementById('noResultMessage');
    if (!found) {
        noResultMessage.style.display = 'block';
    } else {
        noResultMessage.style.display = 'none';
    }
});

const messages = document.querySelectorAll('.successAnderrorMessagesPoppedup');
    
    messages.forEach(message => {
        // Set timeout to remove message after 3 seconds
        setTimeout(() => {
            message.classList.add('slideOut');
            
            // Remove element after animation completes
            message.addEventListener('animationend', function(e) {
                if (e.animationName === 'successAnderrorMessagesPoppedup-slideOut') {
                    message.remove();
                }
            });
        }, 3000);
    });



</script>
{% endblock %}


