{% extends 'Student-base.html' %}
{% load static %}

{% block content %}
<div class="container-fluid settings-page py-4">
  <div class="row justify-content-center">
    <div class="col-12 col-xl-10">
      <div class="card shadow">
        <div class="card-header bg-primary text-white py-3">
          <h3 class="card-title mb-0"><i class="fas fa-cog mr-2"></i> Settings</h3>
        </div>
        <div class="card-body">
          <div class="messages">
            {% if messages %}
                {% for message in messages %}
                    <div class="successAnderrorMessagesPoppedup {% if message.tags %}{{ message.tags }}{% endif %}">
                        <div class="successAnderrorMessagesPoppedup-icon">
                            {% if message.tags == 'success' %}
                                <i class="fas fa-check-circle"></i>
                            {% elif message.tags == 'error' %}
                                <i class="fas fa-exclamation-circle"></i>
                            {% endif %}
                        </div>
                        <div class="successAnderrorMessagesPoppedup-content">
                            {{ message }}
                        </div>
                    </div>
                {% endfor %}
            {% endif %}
        </div> 
          <div class="row">
            <div class="col-12 mb-4">
              <div class="dropdown d-lg-none">
                <button class="btn btn-secondary dropdown-toggle w-100" type="button" id="settingsDropdown" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  <i class="fas fa-bars mr-2"></i> Settings Menu
                </button>
                <div class="dropdown-menu w-100" aria-labelledby="settingsDropdown">
                  <a class="dropdown-item active" href="#v-pills-profile">Profile Information</a>
                  <a class="dropdown-item" href="#v-pills-password">Change Password</a>
                  <a class="dropdown-item" href="#v-pills-privacy">Privacy Policy</a>
                  <a class="dropdown-item" href="#v-pills-terms">Terms and Conditions</a>
                  <a class="dropdown-item" href="#v-pills-help">Help</a>
                  <a class="dropdown-item" href="#v-pills-about">About Us</a>
                </div>
              </div>
            </div>
            <div class="col-lg-4 mb-4 mb-lg-0 d-none d-lg-block">
              <div class="nav flex-column nav-pills" id="v-pills-tab" role="tablist" aria-orientation="vertical">
                <a class="nav-link active mb-2" id="v-pills-profile-tab" data-bs-toggle="pill" href="#v-pills-profile" role="tab" aria-controls="v-pills-profile" aria-selected="true">
                  <i class="fas fa-user-circle mr-2"></i> Profile Information
                </a>
                <a class="nav-link mb-2" id="v-pills-password-tab" data-bs-toggle="pill" href="#v-pills-password" role="tab" aria-controls="v-pills-password" aria-selected="false">
                  <i class="fas fa-lock mr-2"></i> Change Password
                </a>
                <a class="nav-link mb-2" id="v-pills-privacy-tab" data-bs-toggle="pill" href="#v-pills-privacy" role="tab" aria-controls="v-pills-privacy" aria-selected="false">
                  <i class="fas fa-user-shield mr-2"></i> Privacy Policy
                </a>
                <a class="nav-link mb-2" id="v-pills-terms-tab" data-bs-toggle="pill" href="#v-pills-terms" role="tab" aria-controls="v-pills-terms" aria-selected="false">
                  <i class="fas fa-file-contract mr-2"></i> Terms and Conditions
                </a>
                <a class="nav-link mb-2" id="v-pills-help-tab" data-bs-toggle="pill" href="#v-pills-help" role="tab" aria-controls="v-pills-help" aria-selected="false">
                  <i class="fas fa-question-circle mr-2"></i> Help
                </a>
                <a class="nav-link" id="v-pills-about-tab" data-bs-toggle="pill" href="#v-pills-about" role="tab" aria-controls="v-pills-about" aria-selected="false">
                  <i class="fas fa-info-circle mr-2"></i> About Us
                </a>
              </div>
            </div>


            <div class="col-lg-8">
              <div class="tab-content" id="v-pills-tabContent">

                
                <!-- Profile Information Section -->
<div class="tab-pane fade show active" id="v-pills-profile" role="tabpanel" aria-labelledby="v-pills-profile-tab">
    <div class="profile-info d-flex align-items-center">
      <div class="profile-icon mr-4">
        <img src="{{ profile_picture }}" alt="Profile Picture" class="img-thumbnail mb-2">
      </div>
      <div class="profile-details flex-grow-1">
        <h4 class="profile-name mb-2">{{ username }} <span style="color: rgb(209, 204, 204); font-size: 0.5em;font-weight: bolder;"><br>{{ student_id }}</span></h4>
        <p class="profile-email">{{ email }}</p> 
        <button type="button" class="btn btn-primary" id="editProfileBtn">
          <i class="fas fa-edit mr-2"></i>Edit Profile
        </button>
      </div>
    </div>
  </div>
  
  <!-- Profile Form -->
  <form id="profileForm" method="post" action="{% url 'studentsettings' %}" enctype="multipart/form-data" style="display: none;">
    {% csrf_token %}
    <input type="hidden" name="form_type" value="profile_update">
    
    <div class="mb-3">
      <br><label for="username" class="form-label">Username</label>
      <input type="text" class="form-control" id="username" name="username" value="{{ username }}" required disabled>
    </div>
  
    <div class="mb-3">
      <label for="address" class="form-label">Address</label>
      <input type="text" class="form-control" id="address" name="address" value="{{ address }}" required disabled>
    </div>
  
    <div class="mb-3">
      <label for="phone" class="form-label">Phone Number</label>
      <input type="tel" class="form-control" id="phone" name="phone" value="{{ phone }}" required disabled>
    </div>
  
    <div class="mb-3">
      <label for="birthday" class="form-label">Birthday</label>
      <input type="date" class="form-control" id="birthday" name="birthday" value="{{ birthday }}" required disabled>
    </div>
  
    <div class="mb-3">
      <label class="form-label">Gender</label><br>
      <input type="radio" id="male" name="gender" value="male" {% if gender == 'male' %}checked{% endif %} disabled>
      <label for="male">Male</label><br>
      <input type="radio" id="female" name="gender" value="female" {% if gender == 'female' %}checked{% endif %} disabled>
      <label for="female">Female</label><br>
      <input type="radio" id="other" name="gender" value="other" {% if gender == 'other' %}checked{% endif %} disabled>
      <label for="other">Other</label>
    </div>
  
    <div class="mb-3">
        <label for="course" class="form-label">Course</label>
        <select class="form-control" id="course" name="course" required>
            <option value="" disabled {% if not course %}selected{% endif %}>-- Select your Course --</option>
            <option value="BACHELOR OF INDUSTRIAL TECHNOLOGY" {% if course == 'BACHELOR OF INDUSTRIAL TECHNOLOGY' %}selected{% endif %}>BACHELOR OF INDUSTRIAL TECHNOLOGY</option>
            <option value="HOSPITALITY MANAGEMENT" {% if course == 'HOSPITALITY MANAGEMENT' %}selected{% endif %}>HOSPITALITY MANAGEMENT</option>
            <option value="BACHELOR OF SCIENCE IN TOURISM MANAGEMENT" {% if course == 'BACHELOR OF SCIENCE IN TOURISM MANAGEMENT' %}selected{% endif %}>BACHELOR OF SCIENCE IN TOURISM MANAGEMENT</option>
            <option value="BACHELOR OF SCIENCE IN INFORMATION TECHNOLOGY" {% if course == 'BACHELOR OF SCIENCE IN INFORMATION TECHNOLOGY' %}selected{% endif %}>BACHELOR OF SCIENCE IN INFORMATION TECHNOLOGY</option>
            <option value="BACHELOR OF SCIENCE IN INDUSTRIAL ENGINEERING" {% if course == 'BACHELOR OF SCIENCE IN INDUSTRIAL ENGINEERING' %}selected{% endif %}>BACHELOR OF SCIENCE IN INDUSTRIAL ENGINEERING</option>
            <option value="BACHELOR OF SCIENCE IN AGRICULTURE" {% if course == 'BACHELOR OF SCIENCE IN AGRICULTURE' %}selected{% endif %}>BACHELOR OF SCIENCE IN AGRICULTURE</option>
            <option value="BACHELOR OF SCIENCE IN FORESTRY" {% if course == 'BACHELOR OF SCIENCE IN FORESTRY' %}selected{% endif %}>BACHELOR OF SCIENCE IN FORESTRY</option>
            <option value="BACHELOR OF SCIENCE IN ENVIRONMENTAL SCIENCE" {% if course == 'BACHELOR OF SCIENCE IN ENVIRONMENTAL SCIENCE' %}selected{% endif %}>BACHELOR OF SCIENCE IN ENVIRONMENTAL SCIENCE</option>
            <option value="BACHELOR OF ARTS IN ENGLISH LANGUAGE" {% if course == 'BACHELOR OF ARTS IN ENGLISH LANGUAGE' %}selected{% endif %}>BACHELOR OF ARTS IN ENGLISH LANGUAGE</option>
            <option value="BACHELOR OF ARTS IN LITERATURE" {% if course == 'BACHELOR OF ARTS IN LITERATURE' %}selected{% endif %}>BACHELOR OF ARTS IN LITERATURE</option>
            <option value="BACHELOR OF SCIENCE IN PSYCHOLOGY" {% if course == 'BACHELOR OF SCIENCE IN PSYCHOLOGY' %}selected{% endif %}>BACHELOR OF SCIENCE IN PSYCHOLOGY</option>
            <option value="BACHELOR IN TECHNOLOGY AND LIVELIHOOD EDUCATION" {% if course == 'BACHELOR IN TECHNOLOGY AND LIVELIHOOD EDUCATION' %}selected{% endif %}>BACHELOR IN TECHNOLOGY AND LIVELIHOOD EDUCATION</option>
            <option value="BACHELOR OF SECONDARY EDUCATION MAJOR IN MATHEMATICS" {% if course == 'BACHELOR OF SECONDARY EDUCATION MAJOR IN MATHEMATICS' %}selected{% endif %}>BACHELOR OF SECONDARY EDUCATION MAJOR IN MATHEMATICS</option>
            <option value="BACHELOR OF ELEMENTARY EDUCATION" {% if course == 'BACHELOR OF ELEMENTARY EDUCATION' %}selected{% endif %}>BACHELOR OF ELEMENTARY EDUCATION</option>
        </select>
    </div> 

    <div class="mb-3">
      <label for="profile_picture" class="form-label">Profile Picture</label>
      <input type="file" class="form-control" id="profile_picture" name="profile_picture" disabled>
    </div>
  
    <button type="submit" class="btn btn-success" id="saveProfileBtn" disabled>Save</button>
  </form>

                









                <!-- This is for the Change Password section -->
            <div class="tab-pane fade" id="v-pills-password" role="tabpanel" aria-labelledby="v-pills-password-tab">
              <h4>Change Password</h4>
              <form method="POST" action="{% url 'studentsettings' %}">
                  {% csrf_token %}
                  <input type="hidden" name="form_type" value="password_update">
                  
                  <!-- Current Password Field -->
                  <div class="mb-3">
                      <label for="currentPassword" class="form-label">Current Password</label>
                      <input type="password" class="form-control" id="currentPassword" name="currentPassword" required>
                  </div>

                  <!-- New Password Field -->
                  <div class="mb-3">
                      <label for="newPassword" class="form-label">New Password</label>
                      <input type="password" class="form-control" id="newPassword" name="newPassword" required>
                      
                      <!-- Password Strength Meter -->
                      <div class="progress mt-2" style="height: 10px;">
                          <div id="passwordStrengthMeter" class="progress-bar" role="progressbar" style="width: 0%;"></div>
                      </div>
                      <small id="passwordStrengthText" class="form-text text-muted"></small>
                  </div>

                  <!-- Confirm Password Field -->
                  <div class="mb-3">
                      <label for="confirmPassword" class="form-label">Confirm New Password</label>
                      <input type="password" class="form-control" id="confirmPassword" name="confirmPassword" required>
                  </div>

                  <button type="submit" class="btn btn-primary">Change Password</button>
              </form>
            </div>
 
                <!--This is for the Privacy Policy section-->
               <div class="tab-pane fade" id="v-pills-privacy" role="tabpanel" aria-labelledby="v-pills-privacy-tab">
                <div class="col-12 text-center mb-4">
                  <h2 style="font-weight: bold; color: #007bff;">CTU-ARGAO Student Accommodation Finder</h2>
                  <p style="font-size: 1.2rem; color: #6c757d;">Your trusted platform for finding student accommodations near campus</p>
              </div>
                <div class="card shadow-sm border-light p-4" style="background-color: #ffffff; border-radius: 8px; border: 1px solid #e0e0e0;">
                  <h4 style="font-weight: bold; color: #007bff;">Privacy Policy</h4>
                  <p style="color: #6c757d;">Your privacy is important to us. Below, we outline how we collect, use, and protect your information.</p>
                  <hr style="border-top: 1px solid #e0e0e0;">
                  <h5 style="color: #007bff;">Data Collection</h5>
                  <p style="color: #6c757d;">We collect personal information, such as your name, email address, and accommodation preferences, to provide you with the best accommodation options. We also collect data on your usage patterns to enhance your experience.</p>
                  <h5 style="color: #007bff;">Data Protection</h5>
                  <p style="color: #6c757d;">We take your privacy seriously. Your data is securely stored and protected using the latest encryption technologies. We will never share your personal data without your consent.</p>
                  <h5 style="color: #007bff;">Messages uses end-to-end Encryption</h5>
                  <p style="color: #6c757d;">Messages are treated with Confidentiality.</p>
              </div>
              </div>
              <!--This is for the Terms and Condition section-->
              <div class="tab-pane fade" id="v-pills-terms" role="tabpanel" aria-labelledby="v-pills-terms-tab">
                <div class="col-12 text-center mb-4">
                    <h2 style="font-weight: bold; color: #007bff;">CTU-ARGAO Student Accommodation Finder</h2>
                    <p style="font-size: 1.2rem; color: #6c757d;">Your trusted platform for finding student accommodations near campus</p>
                </div>
                <div class="card shadow-sm border-light p-4" style="background-color: #ffffff; border-radius: 8px; border: 1px solid #e0e0e0;">
                  <h4 style="font-weight: bold; color: #007bff;">Terms and Conditions</h4>
                  <p style="color: #6c757d;">Please read the following terms and conditions carefully before using the platform.</p>
                  <hr style="border-top: 1px solid #e0e0e0;">
                  <h5 style="color: #007bff;">General Terms</h5>
                  <p style="color: #6c757d;">By using our platform, you agree to abide by the terms and conditions outlined in this document. If you do not agree with these terms, please refrain from using our services.</p>
                  <h5 style="color: #007bff;">Account Creation</h5>
                  <p style="color: #6c757d;">Users must be verified students of CTU-ARGAO. Providing false information or unauthorized account access may result in the termination of your account.</p>
                  <h5 style="color: #007bff;">Use of Services</h5>
                  <p style="color: #6c757d;">You may use our platform to find accommodation options, but must adhere to our guidelines. You are responsible for maintaining the confidentiality of your account details.</p>
                  <h5 style="color: #007bff;">Liability</h5>
                  <p style="color: #6c757d;">CTU-ARGAO Student Accommodation Finder is not responsible for disputes between students and property owners. Always review the terms and agreements with the property owners directly.</p>
              </div>
              </div>
              <!--This is for the Help section-->
              <div class="tab-pane fade" id="v-pills-help" role="tabpanel" aria-labelledby="v-pills-help-tab">
                <div class="col-12 text-center mb-4">
                  <h2 style="font-weight: bold; color: #007bff;">CTU-ARGAO Student Accommodation Finder</h2>
                  <p style="font-size: 1.2rem; color: #6c757d;">Your trusted platform for finding student accommodations near campus</p>
              </div> 
              <div class="card shadow-sm border-light p-4" style="background-color: #ffffff; border-radius: 8px; border: 1px solid #e0e0e0;">
                <h4 style="font-weight: bold; color: #007bff;">Help & FAQ</h4>
                <p style="color: #6c757d;">Need assistance? Check out our frequently asked questions or contact support.</p>
                <hr style="border-top: 1px solid #e0e0e0;">
                <h5 style="color: #007bff;">How do I create an account?</h5>
                <p style="color: #6c757d;">To create an account, go to this link. Take note: You will be logged out if you click the link. <a href="https://abadddy.pythonanywhere.com/student/student_login/">Click me to redirect to Creating Account</a></p>
                <h5 style="color: #007bff;">It's my first time logged in, how do I apply rooms?</h5>
                <p style="color: #6c757d;">To apply rooms your account must be approved first by the SAO, to know your account status just click the side navbar in the upperleft if your using phone. Checked means approved and can apply rooms, Hourglass means pending and waiting for SAO to approve, x means rejected.</p>
                <p style="color: #6c757d;">If you open any boardinghouses, please don't forget to rate them, it will be a great help for them to market their boarding houses.</p>
                <h5 style="color: #007bff;">Im approved by the owner, and I want to request a removal. How to do it?</h5>
                <p style="color: #6c757d;"> To request a removal to the owner head to your side navbar and go to my application and click request for removal. You can click the link to redirect <a href="https://abadddy.pythonanywhere.com/student/studentapplication/">Click me to redirect to this page</a> </p>
                <h5 style="color: #007bff;">Contact Support</h5>
                <p style="color: #6c757d;">If your question is not answered in the FAQ, please contact us at <strong>pjjbonbon@gmail.com</strong>.</p>
                <p style="color: #6c757d;">If you want to raise any concerns, or report anything, you can click here to report concerns <a href="https://abadddy.pythonanywhere.com/student/studenthomepage/student_homeReport">Click me to redirect to this page</a></p>
            </div>
              </div>

 
                <div class="tab-pane fade" id="v-pills-about" role="tabpanel" aria-labelledby="v-pills-about-tab">
                  <div class="about-container">
                      <div class="about-header">
                          <h4 class="about-title">About Us</h4>
                          <div class="about-underline"></div>
                      </div>
                      
                      <div class="about-content">
                          <p class="about-text">At CTU-ARGAO Student Accommodation Finder, our mission is to revolutionize the way students find their home away from home. We've created a comprehensive system designed exclusively for CTU-ARGAO students, making it easier than ever to discover and secure comfortable, affordable housing options near campus. <a href="{% url 'aboutus' %}">See more</a></p>
                      </div>
              
                      {% if feedback_submitted %}
                          <div class="thank-you-message">
                              <div class="checkmark-circle">
                                  <i class="fas fa-check"></i>
                              </div>
                              <h1>Thank you for your feedback!</h1>
                          </div>
                      {% else %}
                          <div class="rating-container">
                              <h5>Rate Your Experience on this site</h5>
                              <form method="POST" action="{% url 'studentsettings' %}" class="rating-form">
                                  {% csrf_token %}
                                  <input type="hidden" name="form_type" value="star_rating_update">
                                  <input type="hidden" name="star_rating" id="star-rating-value" value="0">
                                  
                                  <div class="star-rating">
                                      <span class="star" data-value="1">★</span>
                                      <span class="star" data-value="2">★</span>
                                      <span class="star" data-value="3">★</span>
                                      <span class="star" data-value="4">★</span>
                                      <span class="star" data-value="5">★</span>
                                  </div>
                                  
                                  <button type="submit" class="submit-button">
                                      Submit Rating
                                  </button>
                              </form>
                          </div>
                      {% endif %}
                  </div>
              </div>
            



              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>


{% if daysLogin == 1 %}
<!-- Background Overlay -->
<div class="firstlogin-overlay"></div>

<div id="firstLoginEverModal" class="firstlogin-modal">
    <div class="firstlogin-modal-content">
        <!-- Timer -->
        <div class="animation-timer">
            <svg class="timer-circle">
                <circle r="24" cx="26" cy="26"/>
            </svg>
            <span class="timer-text">3</span>
        </div>

        <!-- Decorative elements -->
        <div class="firstlogin-decoration">
            <div class="firstlogin-blob"></div>
            <div class="firstlogin-dots"></div>
        </div>
        
        <!-- Progress bar -->
        <div class="firstlogin-progress">
            <div class="firstlogin-progress-track">
                <div class="firstlogin-progress-fill"></div>
            </div>
            <div class="firstlogin-steps-count">Step <span class="current">1</span> of 3</div>
        </div>

        <div class="firstlogin-steps-container">
            <!-- Step 1 -->
            <div class="firstlogin-step active" data-step="1">
                <div class="firstlogin-icon-container">
                    <div class="firstlogin-welcome-icon">
                      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100">
                        <!-- Background circle -->
                        <circle cx="50" cy="50" r="45" fill="#e0e0e0"/>
                        
                        <!-- Head -->
                        <circle cx="50" cy="40" r="15" fill="#666"/>
                        
                        <!-- Body -->
                        <path d="M25 85 C25 65, 75 65, 75 85" fill="#666"/>
                        <path d="M25 85 L75 85 L75 100 L25 100 Z" fill="#666"/>
                      </svg>
                                                                                                      
                    </div>
                    <div class="firstlogin-icon-ring"></div>
                    <div class="firstlogin-icon-particles"></div>
                </div>
                <h2>Settings</h2>
                <p>Welcome to the settings section. Here, you can update your profile information, change your password, learn more about us, rate our services, and explore additional details about the system.</p>
            </div>

            <!-- Step 2 -->
            <div class="firstlogin-step" data-step="2">
                <div class="firstlogin-icon-container">
                    <div class="firstlogin-welcome-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z" />
                        </svg>
                    </div>
                    <div class="firstlogin-icon-ring"></div>
                    <div class="firstlogin-icon-particles"></div>
                </div>
                <h2>Edit Profile</h2>
                <p>Update your profile details under the Profile Information section. To change your password, visit the Change Password section. Please don't forget to rate us, you can visit about us section.</p>
            </div>

            <!-- Step 3 -->
            <div class="firstlogin-step" data-step="3">
                <div class="firstlogin-icon-container">
                    <div class="firstlogin-welcome-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                        </svg>
                    </div>
                    <div class="firstlogin-icon-ring"></div>
                    <div class="firstlogin-icon-particles"></div>
                </div>
                <h2>You're All Set to Apply!</h2>
                <p>Your journey starts now. Let's get you set up with the perfect room!</p>

                <button id="thirdStepBtn" class="hidden" name="finishedTouring" onclick="studenthome()">Finished touring. Redirect me home.</button> 
            </div>
        </div>

        <button id="firstlogin-next-btn" class="hidden">Continue</button>
    </div>
</div>

<style>
/* Background Overlay */
.firstlogin-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.3);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    z-index: 9998;
    opacity: 0;
    animation: fadeIn 0.5s ease forwards;
}

.firstlogin-modal {
    display: block;
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 90%;
    max-width: 550px;
    min-height: 450px;
    background: linear-gradient(145deg, rgba(255, 255, 255, 0.95), rgba(248, 250, 255, 0.95));
    padding: 40px;
    border-radius: 24px;
    box-shadow: 
        0 20px 40px rgba(0, 0, 0, 0.1),
        0 0 0 1px rgba(0, 0, 0, 0.05),
        inset 0 0 80px rgba(255, 255, 255, 0.5);
    z-index: 9999;
    overflow: hidden;
    opacity: 0;
    animation: modalPopIn 0.5s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
}

/* Timer Styles */
.animation-timer {
    position: absolute;
    bottom: 2px;
    right: 20px;
    width: 52px;
    height: 52px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.timer-circle {
    width: 52px;
    height: 52px;
    transform: rotate(-90deg);
}

.timer-circle circle {
    fill: none;
    stroke: #0066ff;
    stroke-width: 3;
    stroke-dasharray: 151;
    stroke-dashoffset: 151;
    animation: timerAnimation 3s linear forwards;
}

.timer-text {
    position: absolute;
    font-size: 16px;
    font-weight: 600;
    color: #0066ff;
}

.firstlogin-modal-content {
    position: relative;
    z-index: 2;
}

/* Decorative Elements */
.firstlogin-decoration {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    overflow: hidden;
    pointer-events: none;
}

.firstlogin-blob {
    position: absolute;
    top: -50%;
    right: -50%;
    width: 300px;
    height: 300px;
    background: linear-gradient(135deg, rgba(0, 102, 255, 0.1), rgba(0, 102, 255, 0.05));
    border-radius: 50%;
    filter: blur(40px);
    animation: blobFloat 8s infinite ease-in-out;
}

.firstlogin-dots {
    position: absolute;
    width: 100%;
    height: 100%;
    background-image: radial-gradient(rgba(0, 102, 255, 0.1) 1px, transparent 1px);
    background-size: 20px 20px;
    opacity: 0.5;
}

/* Progress Bar */
.firstlogin-progress {
    margin-bottom: 40px;
}

.firstlogin-progress-track {
    width: 100%;
    height: 6px;
    background: rgba(0, 102, 255, 0.1);
    border-radius: 3px;
    overflow: hidden;
    margin-bottom: 10px;
}

.firstlogin-progress-fill {
    width: 33.33%;
    height: 100%;
    background: #0066ff;
    border-radius: 3px;
    transition: width 0.5s ease;
}

.firstlogin-steps-count {
    text-align: right;
    font-size: 14px;
    color: #666;
}

/* Icon Styles */
.firstlogin-icon-container {
    position: relative;
    width: 100px;
    height: 100px;
    margin: 0 auto 30px;
}

.firstlogin-welcome-icon {
    position: relative;
    width: 100%;
    height: 100%;
    background: linear-gradient(135deg, #0066ff, #0052cc);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 2;
}

.firstlogin-welcome-icon svg {
    width: 50px;
    height: 50px;
    color: white;
    animation: iconPop 0.5s ease;
}

.firstlogin-icon-ring {
    position: absolute;
    top: -5px;
    left: -5px;
    right: -5px;
    bottom: -5px;
    border: 2px solid #0066ff;
    border-radius: 50%;
    animation: ringPulse 2s infinite;
}

.firstlogin-icon-particles::before,
.firstlogin-icon-particles::after {
    content: '';
    position: absolute;
    width: 8px;
    height: 8px;
    background: #0066ff;
    border-radius: 50%;
    animation: particleFloat 3s infinite;
}

/* Content Styles */
.firstlogin-step {
    display: none;
    opacity: 0;
    transform: translateY(20px) scale(0.95);
    transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
    text-align: center;
    padding: 20px 0;
}

.firstlogin-step.active {
    display: block;
    opacity: 1;
    transform: translateY(0) scale(1);
}

.firstlogin-modal h2 {
    color: #1a1a1a;
    font-size: clamp(24px, 5vw, 32px);
    margin: 0 0 16px;
    font-weight: 700;
    line-height: 1.2;
}

.firstlogin-modal p {
    color: #666;
    font-size: clamp(16px, 3vw, 18px);
    line-height: 1.6;
    margin: 0 0 30px;
    max-width: 400px;
    margin-left: auto;
    margin-right: auto;
}

/* Button Styles */
#firstlogin-next-btn {
    background: linear-gradient(135deg, #0066ff, #0052cc);
    color: white;
    border: none;
    padding: 16px 32px;
    border-radius: 12px;
    font-size: 16px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 4px 15px rgba(0, 102, 255, 0.3);
    opacity: 0;
    transform: translateY(10px);
    animation: buttonFloat 3s ease-in-out infinite;
    position: relative;
    overflow: hidden;
}

#firstlogin-next-btn::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(135deg, rgba(255,255,255,0.2), rgba(255,255,255,0));
    transform: translateX(-100%);
    transition: transform 0.5s ease;
}

#firstlogin-next-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(0, 102, 255, 0.4);
}

#firstlogin-next-btn:hover::before {
    transform: translateX(100%);
}



#thirdStepBtn {
    background: linear-gradient(135deg, #0066ff, #0052cc);
    color: white;
    border: none;
    padding: 20px 39px;
    border-radius: 12px;
    font-size: 16px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 4px 15px rgba(0, 102, 255, 0.3); 
    transform: translateY(10px);
    animation: buttonFloat 3s ease-in-out infinite;
    position: relative;
    overflow: hidden;
    top: 30px;
    width: 100%;
    z-index: 100000;
}

#thirdStepBtn::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(135deg, rgba(255,255,255,0.2), rgba(255,255,255,0));
    transform: translateX(-100%);
    transition: transform 0.5s ease;
}

#thirdStepBtn:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(0, 102, 255, 0.4);
}

#thirdStepBtn:hover::before {
    transform: translateX(100%);
}

#firstlogin-next-btn.show {
    opacity: 1;
    transform: translateY(0);
}

.hidden {
    display: none;
}

/* Animations */
@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

@keyframes modalPopIn {
    0% {
        opacity: 0;
        transform: translate(-50%, -40%) scale(0.95);
    }
    100% {
        opacity: 1;
        transform: translate(-50%, -50%) scale(1);
    }
}

@keyframes timerAnimation {
    from { stroke-dashoffset: 151; }
    to { stroke-dashoffset: 0; }
}

@keyframes buttonFloat {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-5px); }
}

@keyframes blobFloat {
    0%, 100% { transform: translate(0, 0) rotate(0deg); }
    50% { transform: translate(-30px, 20px) rotate(180deg); }
}

@keyframes ringPulse {
    0% { transform: scale(1); opacity: 0.5; }
    50% { transform: scale(1.2); opacity: 0; }
    100% { transform: scale(1); opacity: 0.5; }
}

@keyframes particleFloat {
    0%, 100% { transform: translate(0, 0); }
    50% { transform: translate(10px, -10px); }
}

@keyframes iconPop {
    0% { transform: scale(0.5); }
    50% { transform: scale(1.2); }
    100% { transform: scale(1); }
}

@keyframes fadeOut {
    from { opacity: 1; }
    to { opacity: 0; }
}

/* Responsive Design */
@media (max-width: 768px) {
    .firstlogin-modal {
        padding: 30px;
        min-height: 400px;
    }
    
    .firstlogin-icon-container {
        width: 80px;
        height: 80px;
    }
    
    .firstlogin-welcome-icon svg {
        width: 40px;
        height: 40px;
    }
}
@media (max-width: 480px) {
    .firstlogin-modal {
        padding: 20px;
        min-height: 350px;
    }
    
    .animation-timer {
        top: 25px;
        left: 7px;
        width: 40px;
        height: 40px; 
    }
    
    .timer-circle {
        width: 40px;
        height: 40px;
    }
    
    .timer-circle circle {
        r: 18;
        cx: 20;
        cy: 20;
        stroke-dasharray: 113;
        stroke-dashoffset: 113;
    }
    
    .timer-text {
        font-size: 14px;
    }
    
    .firstlogin-progress {
        margin-bottom: 30px;
    }
    
    .firstlogin-modal h2 {
        font-size: 22px;
        margin-bottom: 12px;
    }
    
    .firstlogin-modal p {
        font-size: 15px;
        margin-bottom: 20px;
    }
    
    #firstlogin-next-btn {
        padding: 14px 28px;
        font-size: 15px;
    }

    #thirdStepBtn{
        padding: 17px 32px;
        font-size: 20px;
    }
}
</style>

<script>
  document.addEventListener("DOMContentLoaded", function() {
      const modal = document.getElementById("firstLoginEverModal");
      const nextBtn = document.getElementById("firstlogin-next-btn");
      const steps = document.querySelectorAll(".firstlogin-step");
      const progressFill = document.querySelector(".firstlogin-progress-fill");
      const currentStepText = document.querySelector(".firstlogin-steps-count .current");
      const timerText = document.querySelector(".timer-text");
      const thirdStepBtn = document.getElementById("thirdStepBtn"); 
      let currentStep = 1;
      let timeLeft = 3;
  
      // Timer countdown
      const timer = setInterval(() => {
          timeLeft--;
          if (currentStep !== 3) {
              timerText.textContent = timeLeft; // Show countdown on steps 1 and 2
          } else {
              timerText.textContent = "End"; // Show "End" on step 3
          }
          
          if (timeLeft <= 0) {
              clearInterval(timer);
              if (currentStep !== 3) {
                  nextBtn.classList.remove("hidden");
                  nextBtn.classList.add("show");
  
                  thirdStepBtn.classList.remove("hidden");
                  thirdStepBtn.classList.add("show");
              }
          }
      }, 1000); 
  
      function updateStep(step) {
          // Reset timer for each step
          timeLeft = 3;
          timerText.textContent = (step === 3) ? "End" : timeLeft; // Set "End" for step 3
          
          // Restart timer animation
          const timerCircle = document.querySelector(".timer-circle circle");
          timerCircle.style.animation = 'none';
          timerCircle.offsetHeight;
          timerCircle.style.animation = 'timerAnimation 5s linear forwards';
  
          // Previous step update logic
          steps.forEach(s => {
              s.classList.remove("active");
              if (s.dataset.step == step) {
                  s.classList.add("active");
              }
          });
  
          progressFill.style.width = `${(step/3) * 100}%`;
          currentStepText.textContent = step;
  
          if (step === 3) { 
              thirdStepBtn.classList.remove("hidden"); 
              nextBtn.classList.add("hidden"); // Hide nextBtn on step 3
          } else {
              nextBtn.textContent = "Continue";
              thirdStepBtn.classList.add("hidden");
              nextBtn.classList.remove("hidden"); // Show nextBtn for other steps
          }
  
          const currentIcon = document.querySelector(`.firstlogin-step[data-step="${step}"] .firstlogin-welcome-icon svg`);
          currentIcon.style.animation = 'none';
          currentIcon.offsetHeight;
          currentIcon.style.animation = 'iconPop 0.5s ease';
          
          // Hide button until timer completes
          nextBtn.classList.add("hidden");
          nextBtn.classList.remove("show");
          
          // Start new timer
          timeLeft = 3;
          const newTimer = setInterval(() => {
              timeLeft--;
              if (currentStep !== 3) {
                  timerText.textContent = timeLeft;
              } else {
                  timerText.textContent = "End";
              }
              
              if (timeLeft <= 0) {
                  clearInterval(newTimer);
                  if (currentStep !== 3) {
                      nextBtn.classList.remove("hidden");
                      nextBtn.classList.add("show");
                  }
              }
          }, 1000);
      }
  
      nextBtn.addEventListener("click", function() {
          if (currentStep < 3) {
              currentStep++;
              updateStep(currentStep);
          } else {
              // Fade out animation
              modal.style.animation = 'fadeOut 0.5s ease forwards';
              document.querySelector('.firstlogin-overlay').style.animation = 'fadeOut 0.5s ease forwards';
              
              setTimeout(() => {
                  modal.style.display = "none";
                  document.querySelector('.firstlogin-overlay').remove();
                  document.body.classList.remove("firstlogin-modal-active");
              }, 500);
          }
      });
  
      // Initialize
      document.body.classList.add("firstlogin-modal-active");
  });
  </script>
  
{% endif %}


<style>
  .about-container {
    max-width: 800px;
    margin: 0 auto;
    padding: 2rem;
    background: white;
    border-radius: 12px;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}

.about-header {
    text-align: center;
    margin-bottom: 2rem;
}

.about-title {
    color: #2c3e50;
    font-size: 2.5rem;
    font-weight: 600;
    margin-bottom: 0.5rem;
}

.about-underline {
    height: 4px;
    width: 60px;
    background: #3498db;
    margin: 0 auto;
    border-radius: 2px;
}

.about-text {
    font-size: 1.1rem;
    line-height: 1.6;
    color: #555;
    margin-bottom: 2rem;
}

.rating-container {
    text-align: center;
    background: #f8f9fa;
    padding: 2rem;
    border-radius: 8px;
    margin-top: 2rem;
}

.rating-container h5 {
    color: #2c3e50;
    font-size: 1.3rem;
    margin-bottom: 1.5rem;
}

.star-rating {
    font-size: 2.5rem;
    display: flex;
    justify-content: center;
    gap: 0.5rem;
    margin-bottom: 1.5rem;
}

.star {
    color: #ddd;
    cursor: pointer;
    transition: color 0.2s ease;
}

.star:hover,
.star.active {
    color: #ffd700;
}

.submit-button {
    background: #3498db;
    color: white;
    border: none;
    padding: 0.8rem 2rem;
    font-size: 1rem;
    border-radius: 25px;
    cursor: pointer;
    transition: background 0.3s ease;
    box-shadow: 0 2px 4px rgba(52, 152, 219, 0.2);
}

.submit-button:hover {
    background: #2980b9;
}

.thank-you-message {
    text-align: center;
    padding: 3rem 0;
    box-shadow: 0 2px 4px rgba(52, 152, 219, 0.2);
}

.checkmark-circle {
    width: 80px;
    height: 80px;
    background: #4CAF50;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto 1.5rem;
}

.checkmark-circle i {
    color: white;
    font-size: 2.5rem;
}

.thank-you-message h1 {
    color: #2c3e50;
    font-size: 2rem;
    font-weight: 600;
} 
    .star {
        font-size: 2rem;
        cursor: pointer;
        color: transparent;
        text-shadow: 0 0 0 #ddd; /* Set initial transparent shadow */
    }
    .star.selected {
        color: #FFD700; /* Only selected stars appear gold */
    }
    .star:hover,
    .star:hover ~ .star {
        color: transparent; /* Clear unselected stars on hover */
    }
    .star:hover {
        color: #FFD700; /* Highlight only the hovered star in gold */
    }

  .settings-page {
    background-color: #f8f9fa;
  }
  .card {
    border: none;
    border-radius: 10px;
  }
  .card-header {
    border-top-left-radius: 10px;
    border-top-right-radius: 10px;
  }
  .nav-pills .nav-link {
    color: #495057;
    background-color: #e9ecef;
    border-radius: 5px;
    transition: all 0.3s ease;
    font-size: 1.1rem;
    padding: 0.75rem 1rem;
  }
  .nav-pills .nav-link:hover,
  .nav-pills .nav-link.active {
    color: #fff;
    background-color: #007bff;
  }
  .profile-info {
    background: linear-gradient(135deg, #072991, #004aad, #1c82d6); /* Smooth gradient from dark blue to lighter blue */
    border: 1px solid #e0e0e0; /* Subtle border for separation */
    border-radius: 10px;
    padding: 20px;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); /* Add shadow for a modern card style */
    display: flex;
    flex-wrap: wrap; /* Enable wrapping for smaller screens */
    align-items: center;
    justify-content: space-between; /* Space out content for better alignment */
    gap: 15px; /* Add spacing between elements */
    color: white; /* Ensure text contrasts well with the gradient background */
}

.profile-icon {
    flex: 0 0 auto;
    width: 150px; /* Ensure the container is square */
    height: 150px;
    text-align: center;
    overflow: hidden; /* Prevent any overflow */
    border-radius: 50%; /* Circular container */ 
    margin: 0; /* Prevent margins from affecting the shape */
    padding: 0; /* Prevent padding issues */
}

.profile-icon img {
    width: 100%; /* Ensure image fills the container */
    height: 100%;
    object-fit: cover; /* Maintain aspect ratio and fill the circle */
    border-radius: 50%; /* Ensure the image itself is circular */
}


.profile-details {
    flex: 1;
    min-width: 200px; /* Prevent content from shrinking too much on small screens */
}

.profile-name {
    font-size: 1.6rem;
    font-weight: bold;
    color: #ffffff; /* Ensure text is visible on gradient */
    margin-bottom: 5px;
}

.profile-name span {
    color: #f0f8ff; /* A lighter blue to differentiate the student ID */
    font-size: 0.8em;
    font-weight: bold;
}

.profile-email {
    font-size: 1rem;
    color: #d1dce9; /* Muted light color for email */
    margin-bottom: 15px;
}

.btn-primary {
    background-color: #5894d4; /* Use a strong blue for the button */
    border: none;
    font-size: 1rem;
    font-weight: 500;
    padding: 10px 20px;
    border-radius: 5px;
    transition: all 0.3s ease-in-out;
}

.btn-primary:hover {
    background-color: #003a78;
    transform: scale(1.05); /* Slight scaling effect on hover */
}

@media (max-width: 768px) {
    .profile-info {
        flex-direction: column; /* Stack elements vertically */
        align-items: center;
        text-align: center; /* Center-align text */
    }

    .profile-icon {
        margin-bottom: 20px; /* Add spacing below the profile icon */
    }

    .btn-primary {
        width: 100%; /* Make button take full width on smaller screens */
    }
}

@media (max-width: 576px) {
    .profile-name {
        font-size: 1.4rem; /* Adjust font size for smaller screens */
    }

    .profile-email {
        font-size: 0.9rem;
    }
}

/* Individual message styling */
.alert {
    padding: 15px; /* Padding inside each alert */
    margin: 10px 0; /* Margin between alerts */
    border-radius: 4px; /* Slightly rounded corners */
    position: relative; /* Position for possible icons */
}

/* Success message */
.alert.alert-success {
    background-color: #d4edda; /* Light green background */
    color: #155724; /* Dark green text */
    border: 1px solid #c3e6cb; /* Green border */
}

/* Error message */
.alert.alert-error {
    background-color: #f8d7da; /* Light red background */
    color: #721c24; /* Dark red text */
    border: 1px solid #f5c6cb; /* Red border */
}

/* Warning message */
.alert.alert-warning {
    background-color: #fff3cd; /* Light yellow background */
    color: #856404; /* Dark yellow text */
    border: 1px solid #ffeeba; /* Yellow border */
}

/* Info message */
.alert.alert-info {
    background-color: #cce5ff; /* Light blue background */
    color: #004085; /* Dark blue text */
    border: 1px solid #b8daff; /* Blue border */
}
  @media (max-width: 991px) {
    .dropdown-menu {
      max-height: 300px;
      overflow-y: auto;
    }
  }
  .successAnderrorMessagesPoppedup {
    position: fixed;
    top: 20px;
    right: 20px;
    max-width: 350px;
    padding: 16px 20px;
    border-radius: 12px;
    background: white;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    display: flex;
    align-items: center;
    gap: 12px;
    z-index: 1000;
    opacity: 0;
    transform: translateX(100px);
    animation: successAnderrorMessagesPoppedup-slideIn 0.3s ease forwards;
}

.successAnderrorMessagesPoppedup.success {
    border-left: 4px solid #10B981;
}

.successAnderrorMessagesPoppedup.error {
    border-left: 4px solid #EF4444;
}

.successAnderrorMessagesPoppedup.slideOut {
    animation: successAnderrorMessagesPoppedup-slideOut 0.3s ease forwards;
}

.successAnderrorMessagesPoppedup-icon {
    font-size: 20px;
    flex-shrink: 0;
}

.success .successAnderrorMessagesPoppedup-icon {
    color: #10B981;
}

.error .successAnderrorMessagesPoppedup-icon {
    color: #EF4444;
}

.successAnderrorMessagesPoppedup-content {
    color: #374151;
    font-size: 14px;
    font-weight: 500;
    line-height: 1.4;
}

@keyframes successAnderrorMessagesPoppedup-slideIn {
    from {
        opacity: 0;
        transform: translateX(100px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

@keyframes successAnderrorMessagesPoppedup-slideOut {
    from {
        opacity: 1;
        transform: translateX(0);
    }
    to {
        opacity: 0;
        transform: translateX(100px);
    }
}


</style>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    var dropdownItems = document.querySelectorAll('.dropdown-item');
    var tabPanes = document.querySelectorAll('.tab-pane');
    var dropdownToggle = document.querySelector('.dropdown-toggle'); 
    const newPassword = document.getElementById('newPassword');
    const passwordStrengthMeter = document.getElementById('passwordStrengthMeter');
    const passwordStrengthText = document.getElementById('passwordStrengthText');

   
const messages = document.querySelectorAll('.successAnderrorMessagesPoppedup');
    
    messages.forEach(message => {
        // Set timeout to remove message after 3 seconds
        setTimeout(() => {
            message.classList.add('slideOut');
            
            // Remove element after animation completes
            message.addEventListener('animationend', function(e) {
                if (e.animationName === 'successAnderrorMessagesPoppedup-slideOut') {
                    message.remove();
                }
            });
        }, 3000);
    });






    newPassword.addEventListener('input', function() {
        const password = newPassword.value;
        let strength = calculatePasswordStrength(password);
        
        // Update the strength meter
        passwordStrengthMeter.style.width = strength + '%';

        // Update the text below the meter
        if (strength <= 25) {
            passwordStrengthMeter.classList.remove('bg-warning', 'bg-success');
            passwordStrengthMeter.classList.add('bg-danger');
            passwordStrengthText.textContent = 'Very Weak';
        } else if (strength <= 50) {
            passwordStrengthMeter.classList.remove('bg-danger', 'bg-success');
            passwordStrengthMeter.classList.add('bg-warning');
            passwordStrengthText.textContent = 'Weak';
        } else if (strength <= 75) {
            passwordStrengthMeter.classList.remove('bg-danger', 'bg-warning');
            passwordStrengthMeter.classList.add('bg-success');
            passwordStrengthText.textContent = 'Good';
        } else {
            passwordStrengthMeter.classList.remove('bg-danger', 'bg-warning');
            passwordStrengthMeter.classList.add('bg-success');
            passwordStrengthText.textContent = 'Strong';
        }
    });

    // Simple password strength calculation function
    function calculatePasswordStrength(password) {
        let strength = 0;

        if (password.length >= 8) strength += 25; // Length
        if (/[A-Z]/.test(password)) strength += 25; // Uppercase letter
        if (/[0-9]/.test(password)) strength += 25; // Number
        if (/[!@#$%^&*(),.?":{}|<>]/.test(password)) strength += 25; // Special character

        return strength;
    }

    document.getElementById('profileForm').addEventListener('submit', function(e) {
        var saveButton = document.getElementById('saveProfileBtn');

        // Change button text to "Loading..." and disable it
        saveButton.innerHTML = 'Loading...';
        saveButton.disabled = true;
    });

    var isEditEnabled = false; // Track the toggle state

document.getElementById('editProfileBtn').addEventListener('click', function() {
    var profileForm = document.getElementById('profileForm');
    var formElements = document.querySelectorAll('#profileForm input, #profileForm button');
    
    // Toggle form visibility and enable/disable form inputs
    if (isEditEnabled) {
        profileForm.style.display = 'none'; // Hide the form

        // Disable all form elements
        formElements.forEach(function(element) {
            element.setAttribute('disabled', true);
        });
    } else {
        profileForm.style.display = 'block'; // Show the form

        // Enable all form elements
        formElements.forEach(function(element) {
            element.removeAttribute('disabled');
        });
    }

    // Toggle the state
    isEditEnabled = !isEditEnabled;
});
        
    dropdownItems.forEach(function(item) {
      item.addEventListener('click', function(e) {
        e.preventDefault();
        var target = this.getAttribute('href');
        tabPanes.forEach(function(pane) {
          pane.classList.remove('show', 'active');
        });
        document.querySelector(target).classList.add('show', 'active');
        dropdownToggle.textContent = this.textContent;
      });
    });

    

    const stars = document.querySelectorAll('.star');
        const ratingInput = document.getElementById('star-rating-value');
        
        stars.forEach(star => {
            star.addEventListener('click', function () {
                const rating = this.getAttribute('data-value');
                
                // Update the hidden input with the selected rating value
                ratingInput.value = rating;

                // Remove 'selected' class from all stars
                stars.forEach(s => s.classList.remove('selected'));
                
                // Add 'selected' class to the clicked star and all previous stars
                for (let i = 0; i < rating; i++) {
                    stars[i].classList.add('selected');
                }
            });
            
            star.addEventListener('mouseover', function() {
                // Highlight only up to the hovered star on mouseover
                stars.forEach(s => s.classList.remove('hover'));
                for (let i = 0; i <= parseInt(this.getAttribute('data-value')) - 1; i++) {
                    stars[i].classList.add('hover');
                }
            });
            
            star.addEventListener('mouseout', function() {
                // Remove hover effect when mouse leaves the stars
                stars.forEach(s => s.classList.remove('hover'));
            });
        });
  });

  function studenthome() {
    // Make an API call or redirect the user to the student homepage
    fetch('/update_days_login/', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
            'X-CSRFToken': getCSRFToken() // Ensure CSRF protection for Django
        },
        body: JSON.stringify({})
    })
    .then(response => {
        if (response.ok) {
            console.log('daysLogin updated successfully');
            window.location.href = "{% url 'studenthomepage' %}";
        } else {
            console.error('Failed to update daysLogin');
        }
    })
    .catch(error => console.error('Error:', error));
}

// Helper function to get CSRF token from cookies
function getCSRFToken() {
    const cookieValue = document.cookie
        .split('; ')
        .find(row => row.startsWith('csrftoken='))
        ?.split('=')[1];
    return cookieValue || '';
}

</script>
{% endblock %}